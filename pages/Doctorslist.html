<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@1,200&family=Lobster&family=Open+Sans&family=Outfit:wght@200&family=Rajdhani:wght@300&family=Rubik+Gemstones&display=swap"
        rel="stylesheet">
    <title>FreshBYE | Lists Of Doctors</title>
    <link rel="stylesheet" href="../assets/CSS/specialist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/CSS/CommonProfile.css" />
    <link rel="stylesheet" href="../assets/CSS/COMMON.css">
</head>

<body>
    <!-- NAV BAR HOME PAGES -->
    <header>
        <div class="nav-bar">
            <a href="http://127.0.0.1:5500/index.html">
                <img class="nav-logo" src="../assets/Images/logos/logo correct.png" alt="Logo" title="Welcome">
            </a>
            <button class="navbar-btn">
                <img src="../assets/Images/icons/menu.png" alt="burger-icon" height="52px" width="52px">
            </button>
            <div class="navbar-item hide">
                <ul id="ul">
                    <li><a href="http://127.0.0.1:5500/index.html">Home</a></li>
                    <li><a href="http://127.0.0.1:5500/pages/Specialist.html">Specialist</a></li>
                    <li><a href="http://127.0.0.1:5500/pages/About.html">About Us</a></li>
                    <a href="http://127.0.0.1:5500/pages/login.html">
                        <li><button class="profile-btn btn">My Profile</button> </li>
                    </a>
                </ul>
            </div>
            <!-- below script is used for nav bar reative burger button -->
            <script>
                document.querySelector(".navbar-btn").onclick = function () {
                    document.querySelector(".navbar-item").classList.toggle("hide");
                }
            </script>
            <!-- below script is used for nav bar reative burger button -->

        </div>
    </header>
    <!-- ABOVE CODE NAV BAR ILL COMPLETED -->
    <section class="center-hole-container-specialist">
        <div class="center-container">
            <div class="center-mini-container">
                <h1 class="center-mini-heading-1">World's Best Specialists Here</h1>
            </div>
            <div id="card" class="card">
                <script>
                    let doctor = JSON.parse(localStorage.getItem("doctordata"));
                    console.log(doctor);

                    for (let i = 0; i < doctor.length; i++) {
                        let card = document.createElement("div");
                        card.setAttribute("class", "card");
                        console.log(card);

                        let img = document.createElement("img");
                        img.setAttribute("class", "mini-img-1");
                        img.setAttribute("src", doctor[i]['imgurl']);
                        card.append(img);
                        // console.log(img);

                        let Name = document.createElement("h2");
                        Name.setAttribute("class", "min-heading-2");
                        Name.innerText = "Dr. " + doctor[i]['name'];
                        card.append(Name);
                        // console.log(Name);

                        let email = document.createElement("p");
                        email.setAttribute("class", "min-heading-2");
                        email.innerText = doctor[i]['email'];
                        card.append(email);
                        // console.log(email);

                        let mobile = document.createElement("p");
                        mobile.setAttribute("class", "min-heading-2");
                        mobile.innerText = "+91 " + doctor[i]['phnumber'];
                        card.append(mobile);
                        // console.log(mobile);



                        let button = document.createElement('button');
                        button.innerText = 'Edit';
                        button.setAttribute("class", "editbtn")
                        button.setAttribute("id", doctor[i]["id"]);
                        // button.setAttribute("onclick", "edit(this.id)")
                        card.append(button);
                        // console.log(button);

                        let button1 = document.createElement('button');
                        button1.innerText = 'Delete';
                        button1.setAttribute("class", "detailsbtn");
                        // button.setAttribute("onclick", "deldata()")
                        card.append(button1);
                        // console.log(button1);

                        let container = document.getElementById("card");
                        container.append(card);
                    }

                    //function for find the card's unique id and store in ls
                    let Edit = document.querySelectorAll("button.editbtn");
                    Edit.forEach(function (findId) {
                        findId.addEventListener("click", function () {
                            let parent = this.closest(".card")

                            const Id = parent.querySelector(".editbtn").getAttribute("id")
                            console.log(Id);
                            localStorage.setItem("uuid", JSON.stringify(Id));
                            window.location.href = "./EditDoctorsList.html";
                        })
                    });



                    let deleteButtons = document.querySelectorAll("button.detailsbtn");
                    deleteButtons.forEach(function (button) {
                        button.addEventListener("click", function () {
                            if (confirm("Are you sure?")) {
                                let jsonData = JSON.parse(window.localStorage.getItem("doctordata"));
                                let card = this.closest(".card");
                                let id = card.querySelector(".editbtn").getAttribute("id");
                                // assuming you set a data-id attribute on the card element
                                console.log(id);


                                let indexOf = jsonData.findIndex(obj => obj.id === id);
                                console.log(indexOf);
                                jsonData.splice(indexOf, 1);
                                // // Save updated data to local storage
                                window.localStorage.setItem("doctordata", JSON.stringify(jsonData));
                                // // Redirect to Doctorslist page
                                window.location.href = "./Doctorslist.html";
                            }
                        });
                    });






                </script>

            </div>

        </div>
        </div>
        </div>
        </div>
    </section>
    <footer>
        <!-- MINI CONTAINER -->
        <div class="section5-mini-container">
            <div class="section5-header-mini-container">
                <h3 class="section5-mini-container-heading"> Get Touch With us On SocialMedia.</h3>
            </div>
            <div class="section5-mini-container-img">
                <img src="../assets/Images/icons/Facebook.png" alt="facebook-logo"><img
                    src="../assets/Images/icons/Google.png" alt="Google-logo"><img
                    src="../assets/Images/icons/Instagram.png" alt="Instagram-logo"><img
                    src="../assets/Images/icons/Twitter.png" alt="Twitter-logo">
            </div>
        </div>
        <!-- MAIN CONTAINER -->
        <div class="section5-main-container">
            <div class="section5-innermain-container">
                <div class="section5-main-container-1">
                    <h2 class="section5-main-container-1-heading">
                        FRESH | BYE
                    </h2><br>
                    <p class="section5-main-container-1-paragraph">
                        My Freshbye Is Like Chatting<br>Between Doctor And Client. It<br>Has More Special Features
                        Like<br>ClubRoom, BYE Video, Consult with<br>Doctors.

                </div>
                <div class="section5-main-container-1">
                    <h2 class="section5-main-container-1-heading">
                        PRODUCT | DOWNLOAD
                    </h2><br>
                    <p class="section5-main-container-1-paragraph-reuse">For MAC</p>
                    <p class="section5-main-container-1-paragraph-reuse">For PC</p>
                    <p class="section5-main-container-1-paragraph-reuse">For Android</p>
                </div>
                <div class="section5-main-container-1">
                    <h2 class="section5-main-container-1-heading">
                        Links | Visit
                    </h2><br>
                    <p class="section5-main-container-1-paragraph-reuse">Whatsapp</p>
                    <p class="section5-main-container-1-paragraph-reuse">Email</p>
                    <p class="section5-main-container-1-paragraph-reuse">Youtube</p>
                </div>
                <div class="section5-main-container-1">
                    <div class="section5-main-container-1">
                        <h2 class="section5-main-container-1-heading">
                            Office Address | Tamilnadu
                        </h2><br>
                        <p class="section5-main-container-1-paragraph">
                            1D Taluka Office Road<br>Opposite To Ghandhi Market<br>Kamarajar Puram, Dindigul,
                            624001.<br> </p>
                    </div>
                </div>
            </div>

        </div>
        <!-- FOOTER CONTAINER -->
        <div class="section5-footer-containter">
            <h3 class="section5-footer-heading">
                <span class="far fa-copyright">&#169;</span>Copyright by FSSA Academy
            </h3>
        </div>

    </footer>


</body>

</html>

<!-- <body class="main-parent">
    <div class="containerOfHole" id="containerOfHole"></div>
   
</body>


</html> -->