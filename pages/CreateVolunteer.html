<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/CSS/CommonProfile.css">
    <title>Create Volunteers</title>
</head>

<body class="main-parent">
    <div class="containerOfHole">

        <form class="containerOfMini" id="form">
            <h1>Create<span>Volunteers</span></h1>
            <input class="input" id="imgurl" placeholder="Enter URL" type="url" required />
            <input class="input" id="name" placeholder="Enter Name" type="text" pattern="[A-Za-z]{3,32}" required />
            <input class="input" id="email" placeholder="Enter Email" type="email" required />
            <input class="input" id="phnumber" placeholder="Phone Number" type="number" pattern="[0-9]{1,10}"
                required />
            <button type="submit" class="btn">Let's Go</button>
        </form>
    </div>
    <script>
        let arr = [];
        let form = document.getElementById("form");
        form.addEventListener("submit", function (event) {
            event.preventDefault();
            let Volunteerdata = {};
            let URL = document.getElementById("imgurl").value;
            console.log(URL)
            let Email = document.getElementById("email").value;
            console.log(Email);
            let Name = document.getElementById("name").value;
            console.log(Name);
            let Phnumber = document.getElementById("phnumber").value
            console.log(Phnumber);
            let id = self.crypto.randomUUID();
            console.log(id);

            Volunteerdata["imgurl"] = URL;
            Volunteerdata["email"] = Email;
            Volunteerdata["name"] = Name;
            Volunteerdata["phnumber"] = Phnumber;
            Volunteerdata.id = id;
            console.log(Volunteerdata);


            if (window.localStorage.getItem("Volunteerdata") === null) {

                window.localStorage.setItem("Volunteerdata", JSON.stringify(arr));
                arr.push(Volunteerdata)
                alert("Successfully created")

            } else {
                let local = window.localStorage.getItem("Volunteerdata");
                let json = JSON.parse(local);
                json.push(Volunteerdata);

                window.localStorage.setItem("Volunteerdata", JSON.stringify(json));
                alert("Successfully created")

            }
            window.location.href = "./VolunteersList.html"
        })




    </script>

</body>


</html>